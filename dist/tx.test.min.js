(function () {
  'use strict';

  angular
    .module('gossip.rain', ['ui.bootstrap', 'ngRoute']);

})();

(function () {
  'use strict';

  angular
    .module('gossip.rain')
    .config(function ($locationProvider, $routeProvider) {

      $routeProvider
        .when('/app', {
          template:'<div ng-controller="ListUserController as vm"><div ng-repeat="user in vm.users"><item-user user="user"></item-user></div><div><button ng-click="vm.send()">send</button></div><div><textarea id="text"></textarea></div></div>'
        })
    });
})();
(function () {
  'use strict';

  angular
    .module('gossip.rain')
    .component('itemUser', {
      controller: 'ItemUserController',
      controllerAs: 'vm',
      bindings: {
        user: '<'
      },
      template:'<div><div><div>soy {{vm.user.name}}</div><div><a href="{{vm.user.name}}">mi sitio</a></div></div></div>'
    });
})();
(function () {
  'use strict';

  angular
    .module('gossip.rain')
    .controller('ItemUserController', ItemUserController);

  function ItemUserController() {
    var vm = this;

  }
})();
(function () {
  'use strict';

  angular
    .module('gossip.rain')
    .controller('ListUserController', ListUserController);

  ListUserController.$inject = [];
  
  function ListUserController() {
    var vm = this;
    vm.users = [];

    vm.$onInit = onInit;
    vm.getAllUsers = getAllUsers;
    vm.send = send;

    function onInit() {
      getAllUsers();
    }
    
    function getAllUsers() {
          vm.users = [{'name':'sadkjks'}];
    }

    function send() {
      var name=document.getElementById('text').value;
      var nameJson={};
      nameJson.name=name;
      vm.users.push(nameJson);
    }
  }
})();